{"version":3,"sources":["ghost-search.min.js"],"names":["_defineProperty","e","r","t","Object","defineProperty","value","enumerable","configurable","writable","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","TypeError","_defineProperties","length","n","key","_createClass","define","amd","module","exports","fuzzysort","this","require","window","Map","total","o","i","l","clear","a","score","s","Array","isArray","split","u","c","add","poll","peek","replaceTop","f","d","p","h","single","getPreparedSearch","getPrepared","allowTypo","algorithm","algorithmNoTypo","go","prepareSearch","threshold","limit","g","y","keys","v","scoreFn","m","b","k","w","x","A","_","C","obj","T","S","target","_targetLowerCodes","_nextBeginningIndexes","indexes","P","goAsync","Promise","Date","now","L","I","setImmediate","setTimeout","j","q","B","cancel","highlight","substr","prepare","prepareLowerCodes","prepareSlow","prepareNextBeginningIndexes","get","set","toLowerCase","charCodeAt","prepareBeginningIndexes","cleanup","new","GhostSearch","host","version","input","results","button","defaultValue","template","location","protocol","join","slug","title","trigger","options","check","api","resource","parameters","fields","filter","include","order","formats","page","on","beforeDisplay","afterDisplay","beforeFetch","afterFetch","mergeDeep","assign","init","forEach","GhostContentAPI","browse","then","search","catch","console","error","document","createElement","innerHTML","trim","firstChild","querySelectorAll","removeChild","appendChild","createElementFromHTML","displayResults","tagName","type","closest","addEventListener","preventDefault","log","checkArgs","validate","onload","fetch"],"mappings":"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","file":"ghost-search.min.js","sourcesContent":["/**\n * ghost-search 1.0.1 (https://github.com/HauntedThemes/ghost-search)\n * A simple but powerful search library for Ghost Blogging Platform.\n * Copyright 2019 Haunted Themes (https://www.hauntedthemes.com)\n * Released under MIT License\n * Released on: 28 Jan 2019\n */\n\nfunction _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _typeof(e){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}!function(e,r){\"function\"==typeof define&&define.amd?define([],r):\"object\"==typeof module&&module.exports?module.exports=r():e.fuzzysort=r()}(this,function(){var e=\"undefined\"!=typeof require&&\"undefined\"==typeof window,r=new Map,t=new Map,n=[];n.total=0;var o=[],i=[];function l(){r.clear(),t.clear(),o=[],i=[]}function a(e){for(var r=-9007199254740991,t=e.length-1;t>=0;--t){var n=e[t];if(null!==n){var o=n.score;o>r&&(r=o)}}return-9007199254740991===r?null:r}function s(e,r){var t=e[r];if(void 0!==t)return t;var n=r;Array.isArray(r)||(n=r.split(\".\"));for(var o=n.length,i=-1;e&&++i<o;)e=e[n[i]];return e}function u(e){return\"object\"==typeof e}var c=function(){var e=[],r=0,t={};function n(){for(var t=0,n=e[t],o=1;o<r;){var i=o+1;t=o,i<r&&e[i].score<e[o].score&&(t=i),e[t-1>>1]=e[t],o=1+(t<<1)}for(var l=t-1>>1;t>0&&n.score<e[l].score;l=(t=l)-1>>1)e[t]=e[l];e[t]=n}return t.add=function(t){var n=r;e[r++]=t;for(var o=n-1>>1;n>0&&t.score<e[o].score;o=(n=o)-1>>1)e[n]=e[o];e[n]=t},t.poll=function(){if(0!==r){var t=e[0];return e[0]=e[--r],n(),t}},t.peek=function(t){if(0!==r)return e[0]},t.replaceTop=function(r){e[0]=r,n()},t},f=c();return function d(p){var h={single:function(e,r,t){return e?(u(e)||(e=h.getPreparedSearch(e)),r?(u(r)||(r=h.getPrepared(r)),((t&&void 0!==t.allowTypo?t.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?h.algorithm:h.algorithmNoTypo)(e,r,e[0])):null):null},go:function(e,r,t){if(!e)return n;var o=(e=h.prepareSearch(e))[0],i=t&&t.threshold||p&&p.threshold||-9007199254740991,l=t&&t.limit||p&&p.limit||9007199254740991,c=(t&&void 0!==t.allowTypo?t.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?h.algorithm:h.algorithmNoTypo,d=0,g=0,y=r.length;if(t&&t.keys)for(var v=t.scoreFn||a,m=t.keys,b=m.length,k=y-1;k>=0;--k){for(var w=r[k],x=new Array(b),A=b-1;A>=0;--A)(_=s(w,C=m[A]))?(u(_)||(_=h.getPrepared(_)),x[A]=c(e,_,o)):x[A]=null;x.obj=w;var T=v(x);null!==T&&(T<i||(x.score=T,d<l?(f.add(x),++d):(++g,T>f.peek().score&&f.replaceTop(x))))}else if(t&&t.key){var C=t.key;for(k=y-1;k>=0;--k)(_=s(w=r[k],C))&&(u(_)||(_=h.getPrepared(_)),null!==(S=c(e,_,o))&&(S.score<i||(S={target:S.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:S.score,indexes:S.indexes,obj:w},d<l?(f.add(S),++d):(++g,S.score>f.peek().score&&f.replaceTop(S)))))}else for(k=y-1;k>=0;--k){var _,S;(_=r[k])&&(u(_)||(_=h.getPrepared(_)),null!==(S=c(e,_,o))&&(S.score<i||(d<l?(f.add(S),++d):(++g,S.score>f.peek().score&&f.replaceTop(S)))))}if(0===d)return n;var P=new Array(d);for(k=d-1;k>=0;--k)P[k]=f.poll();return P.total=d+g,P},goAsync:function(r,t,o){var i=!1,l=new Promise(function(l,f){if(!r)return l(n);var d=(r=h.prepareSearch(r))[0],g=c(),y=t.length-1,v=o&&o.threshold||p&&p.threshold||-9007199254740991,m=o&&o.limit||p&&p.limit||9007199254740991,b=(o&&void 0!==o.allowTypo?o.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?h.algorithm:h.algorithmNoTypo,k=0,w=0;function x(){if(i)return f(\"canceled\");var c=Date.now();if(o&&o.keys)for(var p=o.scoreFn||a,A=o.keys,T=A.length;y>=0;--y){for(var C=t[y],_=new Array(T),S=T-1;S>=0;--S)(L=s(C,I=A[S]))?(u(L)||(L=h.getPrepared(L)),_[S]=b(r,L,d)):_[S]=null;_.obj=C;var P=p(_);if(null!==P&&!(P<v)&&(_.score=P,k<m?(g.add(_),++k):(++w,P>g.peek().score&&g.replaceTop(_)),y%1e3==0&&Date.now()-c>=10))return void(e?setImmediate(x):setTimeout(x))}else if(o&&o.key){for(var I=o.key;y>=0;--y)if((L=s(C=t[y],I))&&(u(L)||(L=h.getPrepared(L)),null!==(j=b(r,L,d))&&!(j.score<v)&&(j={target:j.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:j.score,indexes:j.indexes,obj:C},k<m?(g.add(j),++k):(++w,j.score>g.peek().score&&g.replaceTop(j)),y%1e3==0&&Date.now()-c>=10)))return void(e?setImmediate(x):setTimeout(x))}else for(;y>=0;--y){var L,j;if((L=t[y])&&(u(L)||(L=h.getPrepared(L)),null!==(j=b(r,L,d))&&!(j.score<v)&&(k<m?(g.add(j),++k):(++w,j.score>g.peek().score&&g.replaceTop(j)),y%1e3==0&&Date.now()-c>=10)))return void(e?setImmediate(x):setTimeout(x))}if(0===k)return l(n);for(var q=new Array(k),B=k-1;B>=0;--B)q[B]=g.poll();q.total=k+w,l(q)}e?setImmediate(x):x()});return l.cancel=function(){i=!0},l},highlight:function(e,r,t){if(null===e)return null;void 0===r&&(r=\"<b>\"),void 0===t&&(t=\"</b>\");for(var n=\"\",o=0,i=!1,l=e.target,a=l.length,s=e.indexes,u=0;u<a;++u){var c=l[u];if(s[o]===u){if(i||(i=!0,n+=r),++o===s.length){n+=c+t+l.substr(u+1);break}}else i&&(i=!1,n+=t);n+=c}return n},prepare:function(e){if(e)return{target:e,_targetLowerCodes:h.prepareLowerCodes(e),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(e){if(e)return{target:e,_targetLowerCodes:h.prepareLowerCodes(e),_nextBeginningIndexes:h.prepareNextBeginningIndexes(e),score:null,indexes:null,obj:null}},prepareSearch:function(e){if(e)return h.prepareLowerCodes(e)},getPrepared:function(e){if(e.length>999)return h.prepare(e);var t=r.get(e);return void 0!==t?t:(t=h.prepare(e),r.set(e,t),t)},getPreparedSearch:function(e){if(e.length>999)return h.prepareSearch(e);var r=t.get(e);return void 0!==r?r:(r=h.prepareSearch(e),t.set(e,r),r)},algorithm:function(e,r,t){for(var n=r._targetLowerCodes,l=e.length,a=n.length,s=0,u=0,c=0,f=0;;){if(t===n[u]){if(o[f++]=u,++s===l)break;t=e[0===c?s:c===s?s+1:c===s-1?s-1:s]}if(++u>=a)for(;;){if(s<=1)return null;if(0===c){if(t===e[--s])continue;c=s}else{if(1===c)return null;if((t=e[1+(s=--c)])===e[s])continue}u=o[(f=s)-1]+1;break}}s=0;var d=0,p=!1,g=0,y=r._nextBeginningIndexes;null===y&&(y=r._nextBeginningIndexes=h.prepareNextBeginningIndexes(r.target));var v=u=0===o[0]?0:y[o[0]-1];if(u!==a)for(;;)if(u>=a){if(s<=0){if(++d>l-2)break;if(e[d]===e[d+1])continue;u=v;continue}--s,u=y[i[--g]]}else if(e[0===d?s:d===s?s+1:d===s-1?s-1:s]===n[u]){if(i[g++]=u,++s===l){p=!0;break}++u}else u=y[u];if(p)var m=i,b=g;else m=o,b=f;for(var k=0,w=-1,x=0;x<l;++x)w!==(u=m[x])-1&&(k-=u),w=u;for(p?0!==d&&(k+=-20):(k*=1e3,0!==c&&(k+=-20)),k-=a-l,r.score=k,r.indexes=new Array(b),x=b-1;x>=0;--x)r.indexes[x]=m[x];return r},algorithmNoTypo:function(e,r,t){for(var n=r._targetLowerCodes,l=e.length,a=n.length,s=0,u=0,c=0;;){if(t===n[u]){if(o[c++]=u,++s===l)break;t=e[s]}if(++u>=a)return null}s=0;var f=!1,d=0,p=r._nextBeginningIndexes;if(null===p&&(p=r._nextBeginningIndexes=h.prepareNextBeginningIndexes(r.target)),(u=0===o[0]?0:p[o[0]-1])!==a)for(;;)if(u>=a){if(s<=0)break;--s,u=p[i[--d]]}else if(e[s]===n[u]){if(i[d++]=u,++s===l){f=!0;break}++u}else u=p[u];if(f)var g=i,y=d;else g=o,y=c;for(var v=0,m=-1,b=0;b<l;++b)m!==(u=g[b])-1&&(v-=u),m=u;for(f||(v*=1e3),v-=a-l,r.score=v,r.indexes=new Array(y),b=y-1;b>=0;--b)r.indexes[b]=g[b];return r},prepareLowerCodes:function(e){for(var r=e.length,t=[],n=e.toLowerCase(),o=0;o<r;++o)t[o]=n.charCodeAt(o);return t},prepareBeginningIndexes:function(e){for(var r=e.length,t=[],n=0,o=!1,i=!1,l=0;l<r;++l){var a=e.charCodeAt(l),s=a>=65&&a<=90,u=s||a>=97&&a<=122||a>=48&&a<=57,c=s&&!o||!i||!u;o=s,i=u,c&&(t[n++]=l)}return t},prepareNextBeginningIndexes:function(e){for(var r=e.length,t=h.prepareBeginningIndexes(e),n=[],o=t[0],i=0,l=0;l<r;++l)o>l?n[l]=o:(o=t[++i],n[l]=void 0===o?r:o);return n},cleanup:l,new:d};return h}()});var GhostSearch=function(){function e(r){_classCallCheck(this,e),this.check=!1;var t={host:\"\",key:\"\",version:\"v2\",input:\"#ghost-search-field\",results:\"#ghost-search-results\",button:\"\",defaultValue:\"\",template:function(e){return'<a href=\"'+[location.protocol,\"//\",location.host].join(\"\")+\"/\"+e.slug+'/\">'+e.title+\"</a>\"},trigger:\"focus\",options:{keys:[\"title\", \"plaintext\"],limit:10,threshold:-3500,allowTypo:!1},api:{resource:\"posts\",parameters:{limit:\"all\",fields:[\"title\",\"slug\", \"plaintext\"],filter:\"\",include:\"\",order:\"\",formats:\"plaintext\",page:\"\"}},on:{beforeDisplay:function(){},afterDisplay:function(e){},beforeFetch:function(){},afterFetch:function(e){}}},n=this.mergeDeep(t,r);Object.assign(this,n),this.init()}return _createClass(e,[{key:\"mergeDeep\",value:function(e,r){var t=this;return e&&\"object\"===_typeof(e)&&!Array.isArray(e)&&null!==e&&r&&\"object\"===_typeof(r)&&!Array.isArray(r)&&null!==r&&Object.keys(r).forEach(function(n){r[n]&&\"object\"===_typeof(r[n])&&!Array.isArray(r[n])&&null!==r[n]?(e[n]||Object.assign(e,_defineProperty({},n,{})),t.mergeDeep(e[n],r[n])):Object.assign(e,_defineProperty({},n,r[n]))}),e}},{key:\"fetch\",value:function(){var e=this;this.on.beforeFetch();var r=new GhostContentAPI({host:this.host,key:this.key,version:this.version}),t={},n=this.api.parameters;for(var o in n)\"\"!=n[o]&&(t[o]=n[o]);r[this.api.resource].browse(t).then(function(r){e.search(r)}).catch(function(e){console.error(e)})}},{key:\"createElementFromHTML\",value:function(e){var r=document.createElement(\"div\");return r.innerHTML=e.trim(),r.firstChild}},{key:\"displayResults\",value:function(e){if(null!==document.querySelectorAll(this.results)[0].firstChild&&\"\"!==document.querySelectorAll(this.results)[0].firstChild)for(;document.querySelectorAll(this.results)[0].firstChild;)document.querySelectorAll(this.results)[0].removeChild(document.querySelectorAll(this.results)[0].firstChild);var r=document.querySelectorAll(this.input)[0].value;\"\"!=this.defaultValue&&(r=this.defaultValue);var t=fuzzysort.go(r,e,{keys:this.options.keys,limit:this.options.limit,allowTypo:this.options.allowTypo,threshold:this.options.threshold});for(var n in t)n<t.length&&document.querySelectorAll(this.results)[0].appendChild(this.createElementFromHTML(this.template(t[n].obj)));this.on.afterDisplay(t),this.defaultValue=\"\"}},{key:\"search\",value:function(e){var r=this;if(this.on.afterFetch(e),this.check=!0,\"\"!=this.defaultValue&&(this.on.beforeDisplay(),this.displayResults(e)),\"\"!=this.button){var t=document.querySelectorAll(this.button)[0];\"INPUT\"==t.tagName&&\"submit\"==t.type&&t.closest(\"form\").addEventListener(\"submit\",function(e){e.preventDefault()}),t.addEventListener(\"click\",function(t){t.preventDefault(),r.on.beforeDisplay(),r.displayResults(e)})}else document.querySelectorAll(this.input)[0].addEventListener(\"keyup\",function(t){r.on.beforeDisplay(),r.displayResults(e)})}},{key:\"checkArgs\",value:function(){return document.querySelectorAll(this.input).length?document.querySelectorAll(this.results).length?\"\"==this.button||document.querySelectorAll(this.button).length?\"\"==this.host?(console.log(\"Content API Client Library host missing. Please set the host. Must not end in a trailing slash.\"),!1):\"\"!=this.key||(console.log('Content API Client Library key missing. Please set the key. Hex string copied from the \"Integrations\" screen in Ghost Admin.'),!1):(console.log(\"Button not found.\"),!1):(console.log(\"Results not found.\"),!1):(console.log(\"Input not found.\"),!1)}},{key:\"validate\",value:function(){return!!this.checkArgs()}},{key:\"init\",value:function(){var e=this;this.validate()&&(\"\"!=this.defaultValue&&(document.querySelectorAll(this.input)[0].value=this.defaultValue,window.onload=function(){e.check||e.fetch()}),\"focus\"==this.trigger?document.querySelectorAll(this.input)[0].addEventListener(\"focus\",function(r){e.check||e.fetch()}):\"load\"==this.trigger&&(window.onload=function(){e.check||e.fetch()}))}}]),e}();\n\n"]}